<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xavier Serbia Money Map - Simplificado</title>
<script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;0,9..40,800;1,9..40,400&family=Fraunces:opsz,wght@9..144,600;9..144,700;9..144,800;9..144,900&display=swap" rel="stylesheet">

<style>
:root {
  --primary: #3956E8;
  --emerald: #10b981;
  --emerald-dark: #059669;
  --amber: #f59e0b;
  --charcoal: #18181b;
  --slate: #475569;
  --slate-light: #cbd5e1;
  --bg: #fafafa;
  --card: #ffffff;
  --border: #e2e8f0;
  --text: #0f172a;
  --text-muted: #64748b;
  --danger: #ef4444;
  --warning: #f59e0b;
  --success: #10b981;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}

.app-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.app-header {
  background: linear-gradient(135deg, var(--primary) 0%, #2845d9 100%);
  color: white;
  padding: 1.5rem 2rem 0;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.header-content {
  max-width: 1400px;
  margin: 0 auto;
}

.app-subtitle {
  color: white;
  font-size: 1.1rem;
  margin-bottom: 1.5rem;
  font-weight: 500;
}

.tabs-container {
  display: flex;
  gap: 0.5rem;
  overflow-x: auto;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.tabs-container::-webkit-scrollbar {
  display: none;
}

.tab-button {
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.6);
  padding: 1rem 1.5rem;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  border-bottom: 3px solid transparent;
  white-space: nowrap;
  font-family: 'DM Sans', sans-serif;
}

.tab-button:hover {
  color: rgba(255, 255, 255, 0.9);
  background: rgba(255, 255, 255, 0.05);
}

.tab-button.active {
  color: white;
  border-bottom-color: var(--emerald);
}

.main-content {
  flex: 1;
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
  width: 100%;
}

.card {
  background: var(--card);
  border-radius: 16px;
  padding: 1.5rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  border: 1px solid var(--border);
  margin-bottom: 1.5rem;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 2px solid var(--border);
}

.card-title {
  font-family: 'Fraunces', serif;
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--charcoal);
}

.card-subtitle {
  color: var(--text-muted);
  font-size: 0.875rem;
  margin-top: 0.25rem;
}

.form-group {
  margin-bottom: 1.25rem;
}

.form-label {
  display: block;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: var(--text);
  font-size: 0.9rem;
}

.form-input {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 2px solid var(--border);
  border-radius: 10px;
  font-size: 1rem;
  font-family: 'DM Sans', sans-serif;
  transition: all 0.2s ease;
  background: white;
}

.form-input:focus {
  outline: none;
  border-color: var(--emerald);
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
}

.form-input::placeholder {
  color: var(--text-muted);
}

select.form-input {
  cursor: pointer;
}

.btn {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  font-size: 0.95rem;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: 'DM Sans', sans-serif;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.btn-primary {
  background: var(--primary);
  color: white;
}

.btn-primary:hover {
  background: #2845d9;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(57, 86, 232, 0.3);
}

.btn-danger {
  background: #fecaca;
  color: #991b1b;
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

.btn-danger:hover {
  background: #fca5a5;
  color: #7f1d1d;
  transform: translateY(-1px);
}

.grid-2 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.grid-3 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
}

.text-success { color: var(--success); }
.text-warning { color: var(--warning); }
.text-danger { color: var(--danger); }
.text-muted { color: var(--text-muted); }
.text-center { text-align: center; }
.font-bold { font-weight: 700; }
.currency {
  font-family: 'Fraunces', serif;
  font-weight: 700;
  font-feature-settings: 'tnum';
}

@media (max-width: 768px) {
  .app-header {
    padding: 1rem 1rem 0;
  }
  .main-content {
    padding: 1rem;
  }
  .card {
    padding: 1rem;
  }
  .tab-button {
    padding: 0.75rem 1rem;
    font-size: 0.875rem;
  }
  .tabs-container {
    flex-wrap: wrap;
  }
  .grid-2, .grid-3 {
    grid-template-columns: 1fr;
  }
}
</style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useMemo } = React;

const formatCurrency = (value, currencyCode = 'USD') => {
  if (value === null || value === undefined || value === '') {
    const symbols = {
      'USD': '$', 'EUR': '‚Ç¨', 'GBP': '¬£', 'CAD': 'C$',
      'MXN': '$', 'GTQ': 'Q', 'HNL': 'L', 'NIO': 'C$', 'CRC': '‚Ç°', 'PAB': 'B/.',
      'COP': '$', 'VES': 'Bs.', 'BOB': 'Bs.', 'PEN': 'S/', 'BRL': 'R$',
      'PYG': '‚Ç≤', 'CLP': '$', 'ARS': '$', 'UYU': '$U',
      'DOP': 'RD$', 'CUP': '‚Ç±', 'HTG': 'G'
    };
    return `${symbols[currencyCode] || '$'}0`;
  }
  const num = typeof value === 'string' ? parseFloat(value.replace(/,/g, '')) : value;
  if (isNaN(num)) {
    const symbols = {
      'USD': '$', 'EUR': '‚Ç¨', 'GBP': '¬£', 'CAD': 'C$',
      'MXN': '$', 'GTQ': 'Q', 'HNL': 'L', 'NIO': 'C$', 'CRC': '‚Ç°', 'PAB': 'B/.',
      'COP': '$', 'VES': 'Bs.', 'BOB': 'Bs.', 'PEN': 'S/', 'BRL': 'R$',
      'PYG': '‚Ç≤', 'CLP': '$', 'ARS': '$', 'UYU': '$U',
      'DOP': 'RD$', 'CUP': '‚Ç±', 'HTG': 'G'
    };
    return `${symbols[currencyCode] || '$'}0`;
  }
  
  const locales = {
    'USD': 'en-US', 'EUR': 'de-DE', 'GBP': 'en-GB', 'CAD': 'en-CA',
    'MXN': 'es-MX', 'GTQ': 'es-GT', 'HNL': 'es-HN', 'NIO': 'es-NI', 'CRC': 'es-CR', 'PAB': 'es-PA',
    'COP': 'es-CO', 'VES': 'es-VE', 'BOB': 'es-BO', 'PEN': 'es-PE', 'BRL': 'pt-BR',
    'PYG': 'es-PY', 'CLP': 'es-CL', 'ARS': 'es-AR', 'UYU': 'es-UY',
    'DOP': 'es-DO', 'CUP': 'es-CU', 'HTG': 'fr-HT'
  };
  
  return new Intl.NumberFormat(locales[currencyCode] || 'en-US', {
    style: 'currency',
    currency: currencyCode,
    maximumFractionDigits: 0
  }).format(num);
};

const parseNumber = (value) => {
  if (value === null || value === undefined || value === '') return 0;
  const num = typeof value === 'string' ? parseFloat(value.replace(/,/g, '')) : value;
  return isNaN(num) ? 0 : num;
};

function App() {
  const [activeTab, setActiveTab] = useState('datos');
  const [currency, setCurrency] = useState('USD');
  const [showPDFModal, setShowPDFModal] = useState(false);
  
  const [userProfile, setUserProfile] = useState({
    nombre: 'Usuario',
    apellido: '',
    edad: '30',
    estadoCivil: 'soltero',
    dependientes: 0,
    avatar: 'üë§',
    parejaNombre: '',
    parejaApellido: '',
    parejaAvatar: 'üë§'
  });

  // Scroll to top when PDF modal opens
  useEffect(() => {
    if (showPDFModal) {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  }, [showPDFModal]);

  const [modoCalculo, setModoCalculo] = useState('mensual');
  
  // SOLO 10 variables esenciales
  const [ingresoBruto, setIngresoBruto] = useState('');
  const [ahorro, setAhorro] = useState('');
  const [impuestos, setImpuestos] = useState('');
  const [seguros, setSeguros] = useState('');
  const [pagoDeudas, setPagoDeudas] = useState('');
  const [gastosEsenciales, setGastosEsenciales] = useState('');
  const [reservaEmergencia, setReservaEmergencia] = useState('');
  const [activosTotales, setActivosTotales] = useState('');
  const [pasivosTotales, setPasivosTotales] = useState('');

  const clearAllData = () => {
    if (confirm('‚ö†Ô∏è ¬øEst√°s seguro de que quieres borrar TODOS los datos?\n\nEsta acci√≥n no se puede deshacer.')) {
      setIngresoBruto('');
      setAhorro('');
      setImpuestos('');
      setSeguros('');
      setPagoDeudas('');
      setGastosEsenciales('');
      setReservaEmergencia('');
      setActivosTotales('');
      setPasivosTotales('');
    }
  };

  const totales = useMemo(() => {
    const mult = modoCalculo === 'anual' ? 1 : 12;
    
    const ingresoBrutoAnual = parseNumber(ingresoBruto) * mult;
    const ahorroAnual = parseNumber(ahorro) * mult;
    const impuestosAnual = parseNumber(impuestos) * mult;
    const segurosAnual = parseNumber(seguros) * mult;
    const ingresoNetoAnual = ingresoBrutoAnual - impuestosAnual - segurosAnual;
    const pagoDeudaMensual = modoCalculo === 'anual' ? parseNumber(pagoDeudas) / 12 : parseNumber(pagoDeudas);
    
    const activos = parseNumber(activosTotales);
    const pasivos = parseNumber(pasivosTotales);
    const patrimonioNeto = activos - pasivos;
    
    const gastosEsencialesMens = parseNumber(gastosEsenciales);
    const reserva = parseNumber(reservaEmergencia);
    
    // 5 M√âTRICAS CLAVE
    const mesesReserva = gastosEsencialesMens > 0 ? reserva / gastosEsencialesMens : 0;
    const tasaAhorro = ingresoBrutoAnual > 0 ? ahorroAnual / ingresoBrutoAnual : 0;
    const dtiNeto = (ingresoNetoAnual / 12) > 0 ? pagoDeudaMensual / (ingresoNetoAnual / 12) : 0;
    const deudaActivos = activos > 0 ? pasivos / activos : 0;
    const patrimonioActivos = activos > 0 ? patrimonioNeto / activos : 0;
    const riquezaNeta = ingresoBrutoAnual > 0 ? patrimonioNeto / ingresoBrutoAnual : 0;

    return {
      activosTotales: activos,
      pasivosTotales: pasivos,
      patrimonioNeto,
      mesesReserva,
      tasaAhorro,
      dtiNeto,
      deudaActivos,
      patrimonioActivos,
      riquezaNeta
    };
  }, [ingresoBruto, ahorro, impuestos, seguros, pagoDeudas, gastosEsenciales, reservaEmergencia, activosTotales, pasivosTotales, modoCalculo]);

  const getRiquezaBenchmark = (age) => {
    const benchmarks = [
      {age:25, good:2.5, great:5},
      {age:30, good:3, great:6},
      {age:35, good:3.5, great:7},
      {age:40, good:4, great:8},
      {age:45, good:4.5, great:9},
      {age:50, good:5, great:10},
      {age:55, good:5.5, great:11},
      {age:60, good:6, great:12},
      {age:65, good:6.5, great:13},
      {age:70, good:7, great:14}
    ];
    
    if(age < 25) return benchmarks[0];
    if(age >= 70) return benchmarks[benchmarks.length-1];
    
    for(let i=0; i<benchmarks.length-1; i++) {
      if(age >= benchmarks[i].age && age < benchmarks[i+1].age) {
        const t = (age - benchmarks[i].age) / (benchmarks[i+1].age - benchmarks[i].age);
        return {
          good: benchmarks[i].good + t * (benchmarks[i+1].good - benchmarks[i].good),
          great: benchmarks[i].great + t * (benchmarks[i+1].great - benchmarks[i].great)
        };
      }
    }
    return benchmarks[benchmarks.length-1];
  };

  const edad = parseInt(userProfile.edad) || 30;
  const benchmark = getRiquezaBenchmark(edad);

  return (
    <div className="app-container" style={{position: 'relative', minHeight: '100vh'}}>
      
      <header className="app-header">
        <div className="header-content">
          <p className="app-subtitle">5 m√©tricas clave para medir tu salud financiera</p>
          
          <div className="tabs-container">
            <button 
              className={`tab-button ${activeTab === 'datos' ? 'active' : ''}`}
              onClick={() => setActiveTab('datos')}
            >
              ‚úèÔ∏è Ingresar Datos
            </button>
            <button 
              className={`tab-button ${activeTab === 'ratios' ? 'active' : ''}`}
              onClick={() => setActiveTab('ratios')}
            >
              üìä Mis Ratios
            </button>
            <button
              onClick={() => setShowPDFModal(true)}
              style={{
                background: 'rgba(16, 185, 129, 0.15)',
                border: 'none',
                color: 'rgba(255, 255, 255, 0.9)',
                padding: '1rem 1.5rem',
                fontSize: '0.95rem',
                fontWeight: 600,
                cursor: 'pointer',
                transition: 'all 0.3s ease',
                borderBottom: '3px solid transparent',
                whiteSpace: 'nowrap',
                fontFamily: 'DM Sans, sans-serif'
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.background = 'rgba(16, 185, 129, 0.25)';
                e.currentTarget.style.color = 'white';
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.background = 'rgba(16, 185, 129, 0.15)';
                e.currentTarget.style.color = 'rgba(255, 255, 255, 0.9)';
              }}
            >
              üìÑ PDF Worksheets
            </button>
            <button
              onClick={clearAllData}
              style={{
                background: 'rgba(239, 68, 68, 0.15)',
                border: 'none',
                color: 'rgba(255, 255, 255, 0.9)',
                padding: '1rem 1.5rem',
                fontSize: '0.95rem',
                fontWeight: 600,
                cursor: 'pointer',
                transition: 'all 0.3s ease',
                borderBottom: '3px solid transparent',
                whiteSpace: 'nowrap',
                fontFamily: 'DM Sans, sans-serif',
                marginLeft: 'auto'
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.background = 'rgba(239, 68, 68, 0.25)';
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.background = 'rgba(239, 68, 68, 0.15)';
              }}
            >
              üóëÔ∏è Limpiar Datos
            </button>
          </div>
        </div>
      </header>

      <main className="main-content">
        {activeTab === 'datos' && (
          <DatosTab
            modoCalculo={modoCalculo}
            setModoCalculo={setModoCalculo}
            ingresoBruto={ingresoBruto}
            setIngresoBruto={setIngresoBruto}
            ahorro={setAhorro}
            setAhorro={setAhorro}
            impuestos={impuestos}
            setImpuestos={setImpuestos}
            seguros={seguros}
            setSeguros={setSeguros}
            pagoDeudas={pagoDeudas}
            setPagoDeudas={setPagoDeudas}
            gastosEsenciales={gastosEsenciales}
            setGastosEsenciales={setGastosEsenciales}
            reservaEmergencia={reservaEmergencia}
            setReservaEmergencia={setReservaEmergencia}
            activosTotales={activosTotales}
            setActivosTotales={setActivosTotales}
            pasivosTotales={pasivosTotales}
            setPasivosTotales={setPasivosTotales}
            currency={currency}
          />
        )}
        {activeTab === 'ratios' && (
          <RatiosTab 
            totales={totales}
            userProfile={userProfile}
            currency={currency}
            benchmark={benchmark}
          />
        )}
      </main>

      {/* PDF Modal */}
      {showPDFModal && (
        <div style={{
          position: 'fixed',
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
          background: 'rgba(0,0,0,0.7)',
          zIndex: 2000,
          display: 'flex',
          alignItems: 'flex-start',
          justifyContent: 'center',
          padding: '20px',
          paddingTop: '40px',
          backdropFilter: 'blur(8px)',
          overflowY: 'auto'
        }} onClick={() => setShowPDFModal(false)}>
          <div style={{
            background: '#fff',
            borderRadius: '20px',
            maxWidth: '700px',
            width: '100%',
            maxHeight: '90vh',
            overflow: 'hidden',
            display: 'flex',
            flexDirection: 'column',
            boxShadow: '0 25px 70px rgba(0,0,0,0.5)'
          }} onClick={(e) => e.stopPropagation()}>
            <div style={{padding: '24px 28px', background: 'var(--emerald)', borderBottom: '1px solid var(--border)', display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>
              <div style={{fontSize: '24px', fontWeight: '800', color: 'white'}}>üìÑ Descargar PDF Worksheets</div>
              <button onClick={() => setShowPDFModal(false)} style={{background: 'rgba(255,255,255,0.2)', border: 'none', width: '36px', height: '36px', borderRadius: '50%', fontSize: '22px', cursor: 'pointer', color: 'white'}}>√ó</button>
            </div>
            <div style={{padding: '32px', overflowY: 'auto'}}>
              <p style={{color: 'var(--text-muted)', marginBottom: '24px', fontSize: '15px', lineHeight: '1.6'}}>
                Descarga los worksheets en PDF para llenar tus datos financieros de forma detallada. Luego ingresa solo los <strong>TOTALES</strong> en la calculadora.
              </p>

              <div style={{display: 'flex', flexDirection: 'column', gap: '16px'}}>
                {/* PDF 1: Ingresos y Gastos */}
                <div style={{
                  background: 'white',
                  border: '2px solid var(--border)',
                  borderRadius: '12px',
                  padding: '20px',
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  transition: 'all 0.2s',
                  cursor: 'pointer'
                }}
                onMouseEnter={(e) => e.currentTarget.style.borderColor = 'var(--emerald)'}
                onMouseLeave={(e) => e.currentTarget.style.borderColor = 'var(--border)'}
                >
                  <div style={{flex: 1}}>
                    <div style={{fontWeight: '700', fontSize: '16px', marginBottom: '4px', color: 'var(--text)'}}>
                      üíµ Ingresos y Gastos
                    </div>
                    <div style={{fontSize: '13px', color: 'var(--text-muted)'}}>
                      Desglose detallado de flujo de caja
                    </div>
                  </div>
                  <a 
                    href="https://51fe6aff-6c63-452e-ae29-61aa710bd777.usrfiles.com/ugd/51fe6a_dab0ffbb1c2e4187bcf10787e8a86a9b.pdf" 
                    target="_blank"
                    rel="noopener noreferrer"
                    style={{
                      padding: '10px 20px',
                      background: 'var(--emerald)',
                      color: 'white',
                      borderRadius: '8px',
                      textDecoration: 'none',
                      fontWeight: '600',
                      fontSize: '14px',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '8px'
                    }}
                  >
                    ‚¨áÔ∏è Descargar
                  </a>
                </div>

                {/* PDF 2: Activos */}
                <div style={{
                  background: 'white',
                  border: '2px solid var(--border)',
                  borderRadius: '12px',
                  padding: '20px',
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  transition: 'all 0.2s',
                  cursor: 'pointer'
                }}
                onMouseEnter={(e) => e.currentTarget.style.borderColor = 'var(--emerald)'}
                onMouseLeave={(e) => e.currentTarget.style.borderColor = 'var(--border)'}
                >
                  <div style={{flex: 1}}>
                    <div style={{fontWeight: '700', fontSize: '16px', marginBottom: '4px', color: 'var(--text)'}}>
                      üí∞ Activos
                    </div>
                    <div style={{fontSize: '13px', color: 'var(--text-muted)'}}>
                      Inventario completo de tus activos
                    </div>
                  </div>
                  <a 
                    href="https://51fe6aff-6c63-452e-ae29-61aa710bd777.usrfiles.com/ugd/51fe6a_b0e0da8a0823447692c16e04b8eee03a.pdf" 
                    target="_blank"
                    rel="noopener noreferrer"
                    style={{
                      padding: '10px 20px',
                      background: 'var(--emerald)',
                      color: 'white',
                      borderRadius: '8px',
                      textDecoration: 'none',
                      fontWeight: '600',
                      fontSize: '14px',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '8px'
                    }}
                  >
                    ‚¨áÔ∏è Descargar
                  </a>
                </div>

                {/* PDF 3: Pasivos */}
                <div style={{
                  background: 'white',
                  border: '2px solid var(--border)',
                  borderRadius: '12px',
                  padding: '20px',
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  transition: 'all 0.2s',
                  cursor: 'pointer'
                }}
                onMouseEnter={(e) => e.currentTarget.style.borderColor = 'var(--emerald)'}
                onMouseLeave={(e) => e.currentTarget.style.borderColor = 'var(--border)'}
                >
                  <div style={{flex: 1}}>
                    <div style={{fontWeight: '700', fontSize: '16px', marginBottom: '4px', color: 'var(--text)'}}>
                      üí≥ Pasivos
                    </div>
                    <div style={{fontSize: '13px', color: 'var(--text-muted)'}}>
                      Inventario completo de tus deudas
                    </div>
                  </div>
                  <a 
                    href="https://51fe6aff-6c63-452e-ae29-61aa710bd777.usrfiles.com/ugd/51fe6a_da33d073988e43c8badae5c178c58e56.pdf" 
                    target="_blank"
                    rel="noopener noreferrer"
                    style={{
                      padding: '10px 20px',
                      background: 'var(--emerald)',
                      color: 'white',
                      borderRadius: '8px',
                      textDecoration: 'none',
                      fontWeight: '600',
                      fontSize: '14px',
                      display: 'flex',
                      alignItems: 'center',
                      gap: '8px'
                    }}
                  >
                    ‚¨áÔ∏è Descargar
                  </a>
                </div>
              </div>

              <div style={{background: '#f0f9ff', padding: '16px', borderRadius: '12px', borderLeft: '4px solid var(--emerald)', marginTop: '24px'}}>
                <p style={{margin: 0, fontSize: '14px', lineHeight: '1.6', color: 'var(--text)'}}>
                  <strong>üí° Tip:</strong> Descarga los PDFs, impr√≠melos y ll√©nalos con calma. Luego usa esta calculadora solo para ingresar los totales y ver tus resultados visuales.
                </p>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

function DatosTab({ 
  modoCalculo, setModoCalculo,
  ingresoBruto, setIngresoBruto,
  ahorro, setAhorro,
  impuestos, setImpuestos,
  seguros, setSeguros,
  pagoDeudas, setPagoDeudas,
  gastosEsenciales, setGastosEsenciales,
  reservaEmergencia, setReservaEmergencia,
  activosTotales, setActivosTotales,
  pasivosTotales, setPasivosTotales,
  currency
}) {
  return (
    <div>
      <div className="card">
        <div className="card-header">
          <div>
            <h2 className="card-title">Modo de C√°lculo</h2>
            <p className="card-subtitle">Elige si tus datos son mensuales o anuales</p>
          </div>
          <select 
            className="form-input" 
            style={{width: 'auto'}}
            value={modoCalculo}
            onChange={(e) => setModoCalculo(e.target.value)}
          >
            <option value="mensual">Mensual</option>
            <option value="anual">Anual</option>
          </select>
        </div>
      </div>

      {/* Flujo de Caja */}
      <div className="card">
        <div className="card-header">
          <div>
            <h2 className="card-title">üíµ Flujo de Caja ({modoCalculo === 'mensual' ? 'Mensual' : 'Anual'})</h2>
            <p className="card-subtitle">Datos de ingresos y gastos</p>
          </div>
        </div>

        <div className="grid-3">
          <div className="form-group">
            <label className="form-label">Ingreso Bruto</label>
            <input
              type="number"
              className="form-input"
              placeholder={`${formatCurrency(0, currency)} ${modoCalculo === 'mensual' ? '/mes' : '/a√±o'}`}
              value={ingresoBruto}
              onChange={(e) => setIngresoBruto(e.target.value)}
            />
            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
              Total de ingresos antes de impuestos
            </div>
          </div>

          <div className="form-group">
            <label className="form-label">Ahorro</label>
            <input
              type="number"
              className="form-input"
              placeholder={`${formatCurrency(0, currency)} ${modoCalculo === 'mensual' ? '/mes' : '/a√±o'}`}
              value={ahorro}
              onChange={(e) => setAhorro(e.target.value)}
            />
            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
              Dinero que ahorras regularmente
            </div>
          </div>

          <div className="form-group">
            <label className="form-label">Impuestos</label>
            <input
              type="number"
              className="form-input"
              placeholder={`${formatCurrency(0, currency)} ${modoCalculo === 'mensual' ? '/mes' : '/a√±o'}`}
              value={impuestos}
              onChange={(e) => setImpuestos(e.target.value)}
            />
            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
              Total de impuestos que pagas
            </div>
          </div>

          <div className="form-group">
            <label className="form-label">Seguros</label>
            <input
              type="number"
              className="form-input"
              placeholder={`${formatCurrency(0, currency)} ${modoCalculo === 'mensual' ? '/mes' : '/a√±o'}`}
              value={seguros}
              onChange={(e) => setSeguros(e.target.value)}
            />
            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
              Total de seguros (vida, auto, salud, etc.)
            </div>
          </div>

          <div className="form-group">
            <label className="form-label">Pago Mensual de Deudas</label>
            <input
              type="number"
              className="form-input"
              placeholder={`${formatCurrency(0, currency)}/mes`}
              value={pagoDeudas}
              onChange={(e) => setPagoDeudas(e.target.value)}
            />
            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
              Suma de todos los pagos mensuales de deudas
            </div>
          </div>

          <div className="form-group">
            <label className="form-label">Gastos Esenciales Mensuales</label>
            <input
              type="number"
              className="form-input"
              placeholder={`${formatCurrency(0, currency)}/mes`}
              value={gastosEsenciales}
              onChange={(e) => setGastosEsenciales(e.target.value)}
            />
            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
              Comida, vivienda, transporte, servicios b√°sicos
            </div>
          </div>
        </div>
      </div>

      {/* Balance */}
      <div className="card">
        <div className="card-header">
          <div>
            <h2 className="card-title">üí∞ Balance General</h2>
            <p className="card-subtitle">Tus activos, pasivos y reserva</p>
          </div>
        </div>

        <div className="grid-3">
          <div className="form-group">
            <label className="form-label">Activos Totales</label>
            <input
              type="number"
              className="form-input"
              placeholder={formatCurrency(0, currency)}
              value={activosTotales}
              onChange={(e) => setActivosTotales(e.target.value)}
            />
            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
              Todo lo que posees: efectivo, inversiones, propiedades, etc.
            </div>
          </div>

          <div className="form-group">
            <label className="form-label">Pasivos Totales</label>
            <input
              type="number"
              className="form-input"
              placeholder={formatCurrency(0, currency)}
              value={pasivosTotales}
              onChange={(e) => setPasivosTotales(e.target.value)}
            />
            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
              Todo lo que debes: tarjetas, pr√©stamos, hipotecas, etc.
            </div>
          </div>

          <div className="form-group">
            <label className="form-label">Reserva de Emergencia</label>
            <input
              type="number"
              className="form-input"
              placeholder={formatCurrency(0, currency)}
              value={reservaEmergencia}
              onChange={(e) => setReservaEmergencia(e.target.value)}
            />
            <div style={{fontSize: '0.75rem', color: 'var(--text-muted)', marginTop: '0.25rem'}}>
              Efectivo l√≠quido disponible para emergencias
            </div>
          </div>
        </div>
      </div>

      <div style={{
        background: '#eff6ff',
        border: '2px solid var(--primary)',
        borderRadius: '12px',
        padding: '1.25rem',
        marginTop: '1.5rem'
      }}>
        <div style={{display: 'flex', gap: '0.75rem', alignItems: 'flex-start'}}>
          <span style={{fontSize: '2rem'}}>üí°</span>
          <div>
            <div style={{fontWeight: '700', marginBottom: '0.5rem', color: 'var(--primary)', fontSize: '1.1rem'}}>
              ¬øPor qu√© tan simple?
            </div>
            <div style={{fontSize: '0.95rem', color: '#1e40af', lineHeight: '1.6'}}>
              Estas 10 variables son todo lo que necesitas para calcular las 5 m√©tricas m√°s importantes de tu salud financiera. No necesitas detalles granulares - solo los totales. Ve a la pesta√±a "Mis Ratios" para ver tu an√°lisis completo.
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

function RatiosTab({ totales, userProfile, currency, benchmark }) {
  const [showReservaModal, setShowReservaModal] = useState(false);
  const [showBenchmarkModal, setShowBenchmarkModal] = useState(false);
  
  return (
    <div>
      <div className="card">
        <div className="card-header">
          <div>
            <h2 className="card-title">üìä Tus 5 M√©tricas Clave</h2>
            <p className="card-subtitle">An√°lisis completo de tu salud financiera</p>
          </div>
        </div>

        {/* Patrimonio Neto */}
        <div style={{
          background: 'linear-gradient(135deg, var(--emerald) 0%, var(--emerald-dark) 100%)',
          borderRadius: '16px',
          padding: '2rem',
          marginBottom: '2rem',
          color: 'white'
        }}>
          <div style={{fontSize: '0.9rem', opacity: 0.9, marginBottom: '0.5rem'}}>TU PATRIMONIO NETO</div>
          <div style={{fontSize: '3rem', fontWeight: '800', fontFamily: 'Fraunces, serif'}}>
            {formatCurrency(totales.patrimonioNeto, currency)}
          </div>
          <div style={{fontSize: '0.95rem', opacity: 0.9, marginTop: '0.5rem'}}>
            Activos: {formatCurrency(totales.activosTotales, currency)} ‚àí Pasivos: {formatCurrency(totales.pasivosTotales, currency)}
          </div>
        </div>

        <div style={{padding: '0 16px'}}>
          {/* LIQUIDEZ */}
          <div style={{margin: '24px 0 12px', padding: '8px 12px', background: 'var(--primary)', borderRadius: '10px', color: '#fff', fontSize: '14px', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '.5px'}}>
            üíß LIQUIDEZ
          </div>
          <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '16px', marginBottom: '24px'}}>
            <div style={{background: 'white', borderRadius: '14px', padding: '16px', boxShadow: '0 2px 8px rgba(0,0,0,.08)'}}>
              <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '10px'}}>
                <div style={{fontSize: '15px', fontWeight: '600'}}>Meses de reserva de emergencia</div>
                <button 
                  onClick={() => setShowReservaModal(true)}
                  style={{
                    display: 'inline-flex',
                    alignItems: 'center',
                    gap: '6px',
                    background: 'var(--primary)',
                    color: 'white',
                    padding: '4px 10px',
                    borderRadius: '6px',
                    fontSize: '12px',
                    fontWeight: '700',
                    textTransform: 'uppercase',
                    cursor: 'pointer',
                    border: 'none'
                  }}
                >
                  üí° Sugerencia
                </button>
              </div>
              <div style={{fontSize: '28px', fontWeight: '800', marginBottom: '8px'}}>
                {isFinite(totales.mesesReserva) ? totales.mesesReserva.toFixed(1) + ' meses' : '‚Äî'}
              </div>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '8px', color: totales.mesesReserva >= 6 ? 'var(--success)' : totales.mesesReserva >= 3 ? 'var(--warning)' : 'var(--danger)'}}>
                {totales.mesesReserva >= 6 ? '‚úÖ Excelente' : totales.mesesReserva >= 3 ? '‚ö†Ô∏è Aceptable' : 'üö® Insuficiente'}
              </div>
              <div style={{fontSize: '13px', color: 'var(--text-muted)', lineHeight: '1.4'}}>Meta: ‚â•6 meses de gastos esenciales</div>
            </div>
          </div>

          {/* AHORRO */}
          <div style={{margin: '24px 0 12px', padding: '8px 12px', background: 'var(--primary)', borderRadius: '10px', color: '#fff', fontSize: '14px', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '.5px'}}>
            üê∑ AHORRO
          </div>
          <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '16px', marginBottom: '24px'}}>
            <div style={{background: 'white', borderRadius: '14px', padding: '16px', boxShadow: '0 2px 8px rgba(0,0,0,.08)'}}>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '10px'}}>Tasa de ahorro</div>
              <div style={{fontSize: '28px', fontWeight: '800', marginBottom: '8px'}}>
                {isFinite(totales.tasaAhorro) ? (totales.tasaAhorro * 100).toFixed(1) + '%' : '‚Äî'}
              </div>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '8px', color: totales.tasaAhorro >= 0.30 ? 'var(--success)' : totales.tasaAhorro >= 0.15 ? 'var(--warning)' : 'var(--danger)'}}>
                {totales.tasaAhorro >= 0.30 ? '‚úÖ Excelente' : totales.tasaAhorro >= 0.15 ? '‚ö†Ô∏è Aceptable' : 'üö® Bajo'}
              </div>
              <div style={{fontSize: '13px', color: 'var(--text-muted)', lineHeight: '1.4'}}>
                Meta: ‚â•30% excelente ¬∑ 15-29% aceptable ¬∑ &lt;15% bajo
              </div>
            </div>
          </div>

          {/* DEUDA */}
          <div style={{margin: '24px 0 12px', padding: '8px 12px', background: 'var(--primary)', borderRadius: '10px', color: '#fff', fontSize: '14px', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '.5px'}}>
            üè¶ DEUDA
          </div>
          <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '16px', marginBottom: '24px'}}>
            <div style={{background: 'white', borderRadius: '14px', padding: '16px', boxShadow: '0 2px 8px rgba(0,0,0,.08)'}}>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '10px'}}>DTI (Debt-to-Income) Neto</div>
              <div style={{fontSize: '28px', fontWeight: '800', marginBottom: '8px'}}>
                {isFinite(totales.dtiNeto) ? (totales.dtiNeto * 100).toFixed(1) + '%' : '‚Äî'}
              </div>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '8px', color: totales.dtiNeto <= 0.36 ? 'var(--success)' : 'var(--danger)'}}>
                {totales.dtiNeto <= 0.36 ? '‚úÖ Saludable' : 'üö® Alto'}
              </div>
              <div style={{fontSize: '13px', color: 'var(--text-muted)', lineHeight: '1.4'}}>
                Meta: ‚â§36% de ingreso neto mensual
              </div>
            </div>

            <div style={{background: 'white', borderRadius: '14px', padding: '16px', boxShadow: '0 2px 8px rgba(0,0,0,.08)'}}>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '10px'}}>Ratio Pasivos / Activos</div>
              <div style={{fontSize: '28px', fontWeight: '800', marginBottom: '8px'}}>
                {isFinite(totales.deudaActivos) ? (totales.deudaActivos * 100).toFixed(1) + '%' : '‚Äî'}
              </div>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '8px', color: totales.deudaActivos > 0.50 ? 'var(--danger)' : totales.deudaActivos >= 0.30 ? 'var(--warning)' : 'var(--success)'}}>
                {totales.deudaActivos > 0.50 ? 'üö® Muy alto' : totales.deudaActivos >= 0.30 ? '‚ö†Ô∏è Moderado' : '‚úÖ Bajo'}
              </div>
              <div style={{fontSize: '13px', color: 'var(--text-muted)', lineHeight: '1.4'}}>
                Meta: ‚â§30% excelente ¬∑ 30-50% aceptable ¬∑ &gt;50% peligroso
              </div>
            </div>
          </div>

          {/* PATRIMONIO */}
          <div style={{margin: '24px 0 12px', padding: '8px 12px', background: 'var(--primary)', borderRadius: '10px', color: '#fff', fontSize: '14px', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '.5px'}}>
            üíé ACUMULACI√ìN DE RIQUEZA
          </div>
          <div style={{display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '16px', marginBottom: '24px'}}>
            <div style={{background: 'white', borderRadius: '14px', padding: '16px', boxShadow: '0 2px 8px rgba(0,0,0,.08)'}}>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '10px'}}>Ratio Patrimonio / Activos</div>
              <div style={{fontSize: '28px', fontWeight: '800', marginBottom: '8px'}}>
                {isFinite(totales.patrimonioActivos) ? (totales.patrimonioActivos * 100).toFixed(1) + '%' : '‚Äî'}
              </div>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '8px', color: totales.patrimonioActivos >= 0.70 ? 'var(--success)' : totales.patrimonioActivos >= 0.50 ? 'var(--warning)' : 'var(--danger)'}}>
                {totales.patrimonioActivos >= 0.70 ? '‚úÖ Excelente' : totales.patrimonioActivos >= 0.50 ? '‚ö†Ô∏è Aceptable' : 'üö® Bajo'}
              </div>
              <div style={{fontSize: '13px', color: 'var(--text-muted)', lineHeight: '1.4'}}>
                Meta: ‚â•70% excelente ¬∑ 50-69% aceptable ¬∑ &lt;50% mejorar
              </div>
            </div>

            <div style={{background: 'white', borderRadius: '14px', padding: '16px', boxShadow: '0 2px 8px rgba(0,0,0,.08)'}}>
              <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '10px'}}>
                <div style={{fontSize: '15px', fontWeight: '600'}}>
                  Nivel de riqueza neta
                  <span style={{fontSize: '12px', fontWeight: '400', color: 'var(--text-muted)', marginLeft: '8px'}}>
                    (edad {userProfile.edad})
                  </span>
                </div>
                <button 
                  onClick={() => setShowBenchmarkModal(true)}
                  style={{
                    display: 'inline-flex',
                    alignItems: 'center',
                    gap: '6px',
                    background: 'var(--primary)',
                    color: 'white',
                    padding: '4px 10px',
                    borderRadius: '6px',
                    fontSize: '12px',
                    fontWeight: '700',
                    textTransform: 'uppercase',
                    cursor: 'pointer',
                    border: 'none'
                  }}
                >
                  üìä Ver benchmark
                </button>
              </div>
              <div style={{fontSize: '28px', fontWeight: '800', marginBottom: '8px'}}>
                {isFinite(totales.riquezaNeta) ? totales.riquezaNeta.toFixed(2) + 'x' : '‚Äî'}
              </div>
              <div style={{fontSize: '15px', fontWeight: '600', marginBottom: '8px', color: totales.riquezaNeta >= benchmark.great ? 'var(--success)' : totales.riquezaNeta >= benchmark.good ? 'var(--warning)' : 'var(--danger)'}}>
                {totales.riquezaNeta >= benchmark.great ? '‚úÖ Great' : totales.riquezaNeta >= benchmark.good ? '‚ö†Ô∏è Good' : 'üö® Por debajo'}
              </div>
              <div style={{fontSize: '13px', color: 'var(--text-muted)', lineHeight: '1.4'}}>
                Benchmark: Good {benchmark.good.toFixed(1)}x ¬∑ Great {benchmark.great.toFixed(1)}x
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Modal de Sugerencias de Reserva */}
      {showReservaModal && (
        <div style={{
          position: 'fixed',
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
          background: 'rgba(0,0,0,0.7)',
          zIndex: 2000,
          display: 'flex',
          alignItems: 'flex-start',
          justifyContent: 'center',
          padding: '20px',
          paddingTop: '40px',
          backdropFilter: 'blur(8px)',
          overflowY: 'auto'
        }} onClick={() => setShowReservaModal(false)}>
          <div style={{
            background: '#fff',
            borderRadius: '20px',
            maxWidth: '900px',
            width: '100%',
            maxHeight: '90vh',
            overflow: 'hidden',
            display: 'flex',
            flexDirection: 'column',
            boxShadow: '0 25px 70px rgba(0,0,0,0.5)'
          }} onClick={(e) => e.stopPropagation()}>
            <div style={{padding: '20px 24px', background: 'var(--primary)', borderBottom: '1px solid var(--border)', display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>
              <div style={{fontSize: '22px', fontWeight: '800', color: 'white'}}>üí° Recomendaciones de Reserva de Emergencia</div>
              <button onClick={() => setShowReservaModal(false)} style={{background: 'rgba(255,255,255,0.2)', border: 'none', width: '32px', height: '32px', borderRadius: '50%', fontSize: '20px', cursor: 'pointer', color: 'white'}}>√ó</button>
            </div>
            <div style={{padding: '32px', overflowY: 'auto'}}>
              <p style={{color: 'var(--text-muted)', marginBottom: '24px', lineHeight: '1.6', fontSize: '15px'}}>
                La cantidad ideal de meses de reserva depende de tu situaci√≥n laboral y personal. Usa esta gu√≠a para determinar cu√°nto necesitas:
              </p>
              
              <table style={{width: '100%', borderCollapse: 'collapse', background: '#fff', borderRadius: '12px', overflow: 'hidden'}}>
                <thead style={{background: 'var(--primary)', color: '#fff'}}>
                  <tr>
                    <th style={{padding: '14px 16px', textAlign: 'left', fontWeight: '700', fontSize: '14px', textTransform: 'uppercase', color: 'white'}}>Meses Recomendados</th>
                    <th style={{padding: '14px 16px', textAlign: 'left', fontWeight: '700', fontSize: '14px', textTransform: 'uppercase', color: 'white'}}>Situaci√≥n</th>
                  </tr>
                </thead>
                <tbody>
                  <tr style={{borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '16px', fontSize: '20px', fontWeight: '700', color: 'var(--success)'}}>6 meses</td>
                    <td style={{padding: '16px', fontSize: '15px', lineHeight: '1.6'}}>
                      <strong>Empleo estable + buena liquidez</strong>
                      <div style={{color: 'var(--text-muted)', fontSize: '14px', marginTop: '4px'}}>Trabajo seguro con historial s√≥lido, sin dependientes mayores</div>
                    </td>
                  </tr>
                  <tr style={{borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '16px', fontSize: '20px', fontWeight: '700', color: 'var(--success)'}}>9 meses</td>
                    <td style={{padding: '16px', fontSize: '15px', lineHeight: '1.6'}}>
                      <strong>Empleo estable + dependientes</strong>
                      <div style={{color: 'var(--text-muted)', fontSize: '14px', marginTop: '4px'}}>Trabajo seguro pero con familia o personas que dependen de ti</div>
                    </td>
                  </tr>
                  <tr style={{borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '16px', fontSize: '20px', fontWeight: '700', color: 'var(--warning)'}}>12 meses</td>
                    <td style={{padding: '16px', fontSize: '15px', lineHeight: '1.6'}}>
                      <strong>Empleo inestable + dependientes</strong>
                      <div style={{color: 'var(--text-muted)', fontSize: '14px', marginTop: '4px'}}>Trabajo con menos estabilidad o industria vol√°til, con dependientes</div>
                    </td>
                  </tr>
                  <tr style={{borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '16px', fontSize: '20px', fontWeight: '700', color: 'var(--warning)'}}>18 meses</td>
                    <td style={{padding: '16px', fontSize: '15px', lineHeight: '1.6'}}>
                      <strong>Ingresos variables (freelance)</strong>
                      <div style={{color: 'var(--text-muted)', fontSize: '14px', marginTop: '4px'}}>Trabajador independiente o consultor con ingresos que fluct√∫an mes a mes</div>
                    </td>
                  </tr>
                  <tr style={{borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '16px', fontSize: '20px', fontWeight: '700', color: 'var(--danger)'}}>24 meses</td>
                    <td style={{padding: '16px', fontSize: '15px', lineHeight: '1.6'}}>
                      <strong>Negocio propio / alta volatilidad</strong>
                      <div style={{color: 'var(--text-muted)', fontSize: '14px', marginTop: '4px'}}>Emprendedor con negocio propio o ingresos muy variables</div>
                    </td>
                  </tr>
                  <tr>
                    <td style={{padding: '16px', fontSize: '20px', fontWeight: '700', color: 'var(--danger)'}}>36 meses</td>
                    <td style={{padding: '16px', fontSize: '15px', lineHeight: '1.6'}}>
                      <strong>Ingresos irregulares / pre-retiro</strong>
                      <div style={{color: 'var(--text-muted)', fontSize: '14px', marginTop: '4px'}}>Ingresos muy irregulares o est√°s cerca del retiro y quieres m√°s seguridad</div>
                    </td>
                  </tr>
                </tbody>
              </table>

              <div style={{background: '#f0f9ff', padding: '16px', borderRadius: '12px', borderLeft: '4px solid var(--primary)', marginTop: '24px'}}>
                <p style={{margin: 0, fontSize: '14px', lineHeight: '1.6', color: 'var(--text)'}}>
                  <strong>üí° Consejo:</strong> Tu reserva de emergencia debe cubrir tus gastos esenciales mensuales multiplicados por los meses recomendados seg√∫n tu situaci√≥n. Esta es tu red de seguridad ante imprevistos como p√©rdida de empleo, emergencias m√©dicas o reparaciones urgentes.
                </p>
              </div>
            </div>
          </div>
        </div>
      )}

      {/* Modal de Benchmarks */}
      {showBenchmarkModal && (
        <div style={{
          position: 'fixed',
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
          background: 'rgba(0,0,0,0.7)',
          zIndex: 2000,
          display: 'flex',
          alignItems: 'flex-start',
          justifyContent: 'center',
          padding: '20px',
          paddingTop: '40px',
          backdropFilter: 'blur(8px)',
          overflowY: 'auto'
        }} onClick={() => setShowBenchmarkModal(false)}>
          <div style={{
            background: '#fff',
            borderRadius: '20px',
            maxWidth: '800px',
            width: '100%',
            maxHeight: '90vh',
            overflow: 'hidden',
            display: 'flex',
            flexDirection: 'column',
            boxShadow: '0 25px 70px rgba(0,0,0,0.5)'
          }} onClick={(e) => e.stopPropagation()}>
            <div style={{padding: '20px 24px', background: 'var(--primary)', borderBottom: '1px solid var(--border)', display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>
              <div style={{fontSize: '22px', fontWeight: '800', color: 'white'}}>üìä Benchmarks de Nivel de Riqueza Neta</div>
              <button onClick={() => setShowBenchmarkModal(false)} style={{background: 'rgba(255,255,255,0.2)', border: 'none', width: '32px', height: '32px', borderRadius: '50%', fontSize: '20px', cursor: 'pointer', color: 'white'}}>√ó</button>
            </div>
            <div style={{padding: '32px', overflowY: 'auto'}}>
              <p style={{color: 'var(--text-muted)', marginBottom: '24px', lineHeight: '1.6', fontSize: '15px'}}>
                Tu patrimonio neto como m√∫ltiplo de tu ingreso bruto anual. Indica si est√°s acumulando riqueza o solo sobreviviendo. Dos niveles: <strong>Good</strong> (‚ö†Ô∏è) y <strong>Great</strong> (‚úÖ).
              </p>
              
              <table style={{width: '100%', borderCollapse: 'collapse', background: '#fff', borderRadius: '12px', overflow: 'hidden'}}>
                <thead style={{background: 'var(--primary)', color: '#fff'}}>
                  <tr>
                    <th style={{padding: '14px 16px', textAlign: 'left', fontWeight: '700', fontSize: '14px', color: 'white'}}>Edad</th>
                    <th style={{padding: '14px 16px', textAlign: 'left', fontWeight: '700', fontSize: '14px', color: 'white'}}>Good (‚ö†Ô∏è)</th>
                    <th style={{padding: '14px 16px', textAlign: 'left', fontWeight: '700', fontSize: '14px', color: 'white'}}>Great (‚úÖ)</th>
                    <th style={{padding: '14px 16px', textAlign: 'left', fontWeight: '700', fontSize: '14px', color: 'white'}}>Ejemplo Great ({formatCurrency(50000, currency)})</th>
                  </tr>
                </thead>
                <tbody>
                  <tr style={{background: userProfile.edad === '25' ? '#f0f9ff' : 'white', borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '12px 16px'}}>25</td>
                    <td style={{padding: '12px 16px'}}>2.5x</td>
                    <td style={{padding: '12px 16px'}}>5.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(250000, currency)}</td>
                  </tr>
                  <tr style={{background: userProfile.edad === '30' ? '#f0f9ff' : 'white', borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '12px 16px'}}>30</td>
                    <td style={{padding: '12px 16px'}}>3.0x</td>
                    <td style={{padding: '12px 16px'}}>6.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(300000, currency)}</td>
                  </tr>
                  <tr style={{background: userProfile.edad === '35' ? '#f0f9ff' : 'white', borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '12px 16px'}}>35</td>
                    <td style={{padding: '12px 16px'}}>3.5x</td>
                    <td style={{padding: '12px 16px'}}>7.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(350000, currency)}</td>
                  </tr>
                  <tr style={{background: userProfile.edad === '40' ? '#f0f9ff' : 'white', borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '12px 16px'}}>40</td>
                    <td style={{padding: '12px 16px'}}>4.0x</td>
                    <td style={{padding: '12px 16px'}}>8.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(400000, currency)}</td>
                  </tr>
                  <tr style={{background: userProfile.edad === '45' ? '#f0f9ff' : 'white', borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '12px 16px'}}>45</td>
                    <td style={{padding: '12px 16px'}}>4.5x</td>
                    <td style={{padding: '12px 16px'}}>9.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(450000, currency)}</td>
                  </tr>
                  <tr style={{background: userProfile.edad === '50' ? '#f0f9ff' : 'white', borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '12px 16px'}}>50</td>
                    <td style={{padding: '12px 16px'}}>5.0x</td>
                    <td style={{padding: '12px 16px'}}>10.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(500000, currency)}</td>
                  </tr>
                  <tr style={{background: userProfile.edad === '55' ? '#f0f9ff' : 'white', borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '12px 16px'}}>55</td>
                    <td style={{padding: '12px 16px'}}>5.5x</td>
                    <td style={{padding: '12px 16px'}}>11.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(550000, currency)}</td>
                  </tr>
                  <tr style={{background: userProfile.edad === '60' ? '#f0f9ff' : 'white', borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '12px 16px'}}>60</td>
                    <td style={{padding: '12px 16px'}}>6.0x</td>
                    <td style={{padding: '12px 16px'}}>12.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(600000, currency)}</td>
                  </tr>
                  <tr style={{background: userProfile.edad === '65' ? '#f0f9ff' : 'white', borderBottom: '1px solid var(--border)'}}>
                    <td style={{padding: '12px 16px'}}>65</td>
                    <td style={{padding: '12px 16px'}}>6.5x</td>
                    <td style={{padding: '12px 16px'}}>13.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(650000, currency)}</td>
                  </tr>
                  <tr style={{background: userProfile.edad === '70' ? '#f0f9ff' : 'white'}}>
                    <td style={{padding: '12px 16px'}}>70</td>
                    <td style={{padding: '12px 16px'}}>7.0x</td>
                    <td style={{padding: '12px 16px'}}>14.0x</td>
                    <td style={{padding: '12px 16px'}}>{formatCurrency(700000, currency)}</td>
                  </tr>
                </tbody>
              </table>

              <div style={{background: '#f8fafc', padding: '16px', borderRadius: '12px', borderLeft: '4px solid var(--emerald)', marginTop: '24px'}}>
                <p style={{margin: 0, fontSize: '14px', lineHeight: '1.6', color: 'var(--text)'}}>
                  <strong>Nota:</strong> Estos benchmarks son gu√≠as generales. Tu situaci√≥n personal puede variar seg√∫n tus metas, estilo de vida esperado, y otras fuentes de ingreso. Se calcula: <strong>Patrimonio Neto √∑ Ingreso Bruto Anual</strong>
                </p>
              </div>
            </div>
          </div>
        </div>
      )}

      <div style={{
        background: '#f0f9ff',
        border: '2px solid var(--primary)',
        borderRadius: '12px',
        padding: '1.25rem',
        marginTop: '1.5rem'
      }}>
        <div style={{display: 'flex', gap: '0.75rem', alignItems: 'flex-start'}}>
          <span style={{fontSize: '2rem'}}>üìö</span>
          <div>
            <div style={{fontWeight: '700', marginBottom: '0.5rem', color: 'var(--primary)', fontSize: '1.1rem'}}>
              ¬øQu√© significan estos ratios?
            </div>
            <ul style={{fontSize: '0.9rem', color: '#1e40af', lineHeight: '1.8', paddingLeft: '1.5rem', margin: 0}}>
              <li><strong>Meses de reserva:</strong> Cu√°nto tiempo puedes sobrevivir sin ingresos</li>
              <li><strong>Tasa de ahorro:</strong> Qu√© porcentaje de tus ingresos est√°s guardando</li>
              <li><strong>DTI Neto:</strong> Qu√© tan pesadas son tus deudas vs. tu ingreso neto</li>
              <li><strong>Pasivos/Activos:</strong> Cu√°nto debes vs. cu√°nto tienes</li>
              <li><strong>Patrimonio/Activos:</strong> Qu√© porcentaje de tus activos realmente te pertenece</li>
              <li><strong>Nivel de riqueza:</strong> Si est√°s acumulando patrimonio seg√∫n tu edad e ingresos</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  );
}

ReactDOM.render(<App />, document.getElementById('root'));
</script>
</body>
</html>
