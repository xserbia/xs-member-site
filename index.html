<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>XS Members ‚Äî Tablero (Desktop)</title>

  <link rel="stylesheet" href="https://cadamenudo.github.io/UI-UX/css-fonts.css"/>

  <style>
    :root{
      --primary:#3956E8;
      --secondary:#7459D9;
      --accent:#E8C239;
      --bg:#f3f5f9;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --stroke:#e5e7eb;
      --shadow:0 14px 34px rgba(15,23,42,.08);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Nunito",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    /* ===== Layout ===== */
    .app{ display:flex; min-height:100vh; }

    /* ===== Sidebar ===== */
    .sidebar{
      width:290px;
      background:#fff;
      border-right:1px solid var(--stroke);
      padding:26px 22px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      padding:8px 10px 18px;
      margin-bottom:10px;
    }
    .brand .logo{
      width:44px;height:44px;border-radius:12px;
      background:linear-gradient(135deg, var(--primary), var(--secondary));
      display:grid;place-items:center;
      color:#fff;font-weight:900;
    }
    .brand .name{
      font-weight:900;
      letter-spacing:.2px;
      font-size:18px;
      line-height:1.1;
    }
    .nav{
      margin-top:12px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .nav a{
      display:flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      color:var(--text);
      font-weight:700;
      padding:12px 14px;
      border-radius:14px;
      transition:.15s ease;
      cursor:pointer;
      user-select:none;
    }
    .nav a:hover{ background:#f2f5ff; }
    .nav a.active{ background:var(--primary); color:#fff; }

    .nav .section-title{
      font-size:12px;
      font-weight:900;
      color:var(--muted);
      margin:14px 10px 6px;
      letter-spacing:.08em;
      text-transform:uppercase;
    }
    .subnav{
      margin-left:12px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .subnav a{
      padding:10px 12px;
      font-weight:700;
      color:#1f2937;
      border-radius:12px;
      background:transparent;
    }
    .subnav a:hover{ background:#f7f7fb; }
    .subnav a.active{ background:#eef2ff; color:var(--primary); }

    /* ===== Main ===== */
    .main{ flex:1; padding:26px 28px; }

    .card{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }

    /* ===== TOP ROW ===== */
    .topRow{
      display:grid;
      grid-template-columns: 1.05fr 1.7fr .85fr;
      gap:22px;
      margin:8px 0 22px;
      align-items:stretch;
    }
    .topRow .card{ height:100%; }

    .welcomeCard{
      padding:18px 22px;
      display:flex;
      align-items:center;
      min-height:86px;
      box-shadow:0 10px 24px rgba(15,23,42,.05);
    }
    .welcomeTitle{
      font-size:34px;
      font-weight:1000;
      letter-spacing:-.02em;
      line-height:1.05;
      white-space:nowrap;
    }

    /* Tabs Etapas */
    .etapasCard{
      padding:14px 16px;
      display:flex;
      align-items:center;
      min-height:86px;
      overflow:hidden;
    }
    .etapasWrap{
      display:flex;
      gap:12px;
      align-items:center;
      width:100%;
      overflow:auto;
      padding-bottom:2px;
      scrollbar-width: none;
    }
    .etapasWrap::-webkit-scrollbar{ display:none; }

    .pillTab{
      flex:0 0 auto;
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid #dbe1f0;
      background:#fff;
      font-weight:900;
      font-size:13px;
      color:#111827;
      box-shadow:0 6px 16px rgba(15,23,42,.06);
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
    }
    .pillTab .dot{
      width:10px;height:10px;border-radius:3px;
      background:#ef4444;
    }
    .pillTab[data-etapa="1"] .dot{ background:#ef4444; }
    .pillTab[data-etapa="2"] .dot{ background:#f59e0b; }
    .pillTab[data-etapa="3"] .dot{ background:#eab308; }
    .pillTab[data-etapa="4"] .dot{ background:#22c55e; }
    .pillTab[data-etapa="5"] .dot{ background:#3b82f6; }

    .pillTab.active{
      border-color:#c7d2fe;
      box-shadow:0 10px 22px rgba(57,86,232,.12);
      background:#f7f8ff;
    }

    /* Coaching promo */
    .coachCard{
      padding:10px;
      display:grid;
      grid-template-columns: 86px 1fr;
      gap:12px;
      align-items:center;
      min-height:86px;
    }
    .coachImg{
      width:86px;
      height:66px;
      border-radius:14px;
      overflow:hidden;
      border:1px solid var(--stroke);
      background:#f1f5f9;
      display:grid;
      place-items:center;
    }
    .coachImg img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .coachInfo{
      display:flex;
      flex-direction:column;
      gap:8px;
      min-width:0;
    }
    .coachTitle{
      font-weight:1000;
      font-size:22px;
      line-height:1;
      color:#0f172a;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding:10px 12px;
      border-radius:12px;
      border:0;
      cursor:pointer;
      font-weight:1000;
      font-family:inherit;
      transition:.15s ease;
      user-select:none;
      width:max-content;
      font-size:13px;
    }
    .btn-outline{
      background:#fff;
      border:1px solid #c7d2fe;
      color:#1d4ed8;
    }
    .btn-outline:hover{ transform:translateY(-1px); }
    .btn-dark{ background:#0b1220; color:#fff; }
    .btn-dark:hover{ transform:translateY(-1px); }

    /* ===== Grid fila 1 ===== */
    .grid{
      display:grid;
      grid-template-columns: 1.45fr .95fr;
      gap:22px;
      align-items:stretch;
    }
    .grid > .card{ height:100%; }
    .stage, .cadaMenudo{
      height:100%;
      display:flex;
      flex-direction:column;
      min-height:0;
    }

    /* ===== Stage Card ===== */
    .stage{ padding:22px; }
    .stage .title{
      font-size:22px;
      font-weight:900;
      text-align:center;
      margin:0 0 14px;
      color:var(--secondary);
    }
    .stage .divider{
      height:2px;
      background:#eae7ff;
      width:72%;
      margin:0 auto 16px;
      border-radius:999px;
    }
    .stageRow{
      display:grid;
      grid-template-columns: 84px 1fr 150px;
      gap:14px;
      align-items:start;
    }
    .sos{
      width:70px;height:70px;border-radius:16px;
      background:linear-gradient(135deg,#ff3b30,#ff8a3d);
      display:grid;place-items:center;
      color:#fff;font-weight:1000;
      letter-spacing:.06em;
      box-shadow:0 10px 20px rgba(255,59,48,.25);
      margin-top:6px;
    }
    .stageInfo h3{ margin:0; font-size:20px; font-weight:1000; }
    .stageInfo p{ margin:6px 0 0; color:var(--muted); font-weight:700; font-size:14px; }

    .progressBox{
      border:1px solid #dbeafe;
      background:#eff6ff;
      border-radius:14px;
      padding:12px;
      text-align:center;
    }
    .progressBox .label{
      font-size:11px;
      color:#2563eb;
      font-weight:900;
      letter-spacing:.04em;
      text-transform:uppercase;
    }
    .progressBox .value{
      margin-top:6px;
      font-size:30px;
      font-weight:1000;
      color:#1d4ed8;
    }

    .needs{
      margin-top:14px;
      border:1px solid #fcd34d;
      background:#fff7d6;
      border-radius:14px;
      padding:12px 14px;
    }
    .needsTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    .needsTop .left{
      font-weight:900;
      font-size:12px;
      color:#92400e;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .bar{
      flex:1;
      height:8px;
      border-radius:999px;
      background:#fde68a;
      overflow:hidden;
      border:1px solid rgba(146,64,14,.18);
      margin-left:8px;
    }
    .bar > i{
      display:block;
      height:100%;
      width:50%;
      background:#f59e0b;
      border-radius:999px;
    }
    .needs ul{
      margin:0;
      padding-left:18px;
      color:#7c2d12;
      font-weight:800;
      font-size:12.5px;
      line-height:1.6;
    }
    .stageActions{
      display:flex;
      justify-content:flex-end;
      margin-top:auto;
      padding-top:14px;
    }

    /* ===== Cada Menudo ===== */
    .cadaMenudo{ padding:18px; }
    .cmTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom:12px;
    }
    .cmBrand{
      font-weight:1000;
      font-size:22px;
      line-height:1;
      color:var(--secondary);
    }
    .cmBrand small{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:18px;height:18px;
      border-radius:6px;
      background:#eef2ff;
      color:var(--primary);
      font-size:12px;
      margin-left:6px;
      font-weight:1000;
    }
    .cmBtn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      border:1px solid var(--stroke);
      background:#fff;
      padding:10px 12px;
      border-radius:12px;
      font-weight:900;
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
    }
    .cmBtn .plus{
      width:24px;height:24px;border-radius:8px;
      background:#eef2ff;
      color:var(--primary);
      display:grid;place-items:center;
      font-weight:1000;
    }
    .cmBanner{
      background:#ecfdf5;
      border:1px solid #bbf7d0;
      color:#16a34a;
      padding:12px 12px;
      border-radius:14px;
      font-weight:900;
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:14px;
    }
    .cmBanner .check{
      width:22px;height:22px;border-radius:999px;
      border:2px solid #22c55e;
      display:grid;place-items:center;
      font-size:12px;
      line-height:0;
      flex:0 0 auto;
    }
    .cmStats{
      border:1px solid var(--stroke);
      border-radius:14px;
      background:#fff;
      padding:14px;
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:12px;
      box-shadow:0 10px 24px rgba(15,23,42,.06);
      margin-top:auto;
    }
    .cmStat{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 10px;
      border-radius:12px;
      background:#f8fafc;
      min-width:0;
    }
    .cmIcon{
      width:34px;height:34px;border-radius:999px;
      display:grid;place-items:center;
      background:#eef2ff;
      color:var(--primary);
      font-weight:1000;
      flex:0 0 auto;
    }
    .cmK{
      font-size:12px;
      color:var(--muted);
      font-weight:900;
      margin-bottom:2px;
    }
    .cmV{
      font-size:14px;
      font-weight:1000;
      color:#0f172a;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width:100%;
    }

    /* ===== Bottom area: MoneyMap + Video ===== */
    .bottom{
      margin-top:22px;
      display:grid;
      grid-template-columns: 1.45fr .95fr;
      gap:22px;
      align-items:start;
    }

    /* ‚úÖ NUEVO: card de Money Map como contenedor del iframe */
    .moneymapEmbed{
      padding:0;                 /* importante: el contenido lo maneja el iframe */
      overflow:hidden;           /* para respetar radius */
      display:flex;
      flex-direction:column;
      min-height:360px;          /* ajustable */
    }

    .mmFrame{
      width:100%;
      height:360px;              /* <-- ajusta este n√∫mero (320‚Äì420 suele ser ideal) */
      border:0;
      display:block;
      background:transparent;
    }

    /* Opcional: header arriba del iframe (si lo quieres) */
    .mmHeader{
      padding:16px 18px 10px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      border-bottom:1px solid var(--stroke);
      background:#fff;
    }
    .mmTitle{
      font-weight:1000;
      font-size:22px;
      line-height:1.05;
    }
    .mmSub{
      margin-top:6px;
      color:var(--muted);
      font-weight:800;
      font-size:12.5px;
    }

    .videoWrap{ padding:0; overflow:hidden; }
    .videoHeader{
      padding:16px 18px 10px;
      font-size:22px;
      font-weight:1000;
      background:transparent;
    }
    .video{
      position:relative;
      width:100%;
      aspect-ratio: 16/9;
      background:linear-gradient(135deg,#0ea5e9,#1d4ed8 60%, #7c3aed);
      border-top:1px solid var(--stroke);
    }
    .video .play{
      position:absolute;
      inset:0;
      display:grid;
      place-items:center;
    }
    .video .play button{
      width:72px;height:72px;border-radius:999px;
      border:2px solid rgba(255,255,255,.85);
      background:rgba(0,0,0,.18);
      color:#fff;
      font-size:28px;
      cursor:pointer;
      backdrop-filter: blur(6px);
      transition:.15s ease;
    }
    .video .play button:hover{ transform:scale(1.04); }

    .muted{ color:var(--muted); font-weight:800; }
/* ===== MODAL GLOBAL MONEY MAP (FUERA DEL CARD) ===== */
.mmModalOverlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.78);
  z-index:99999;
  display:none;
  align-items:center;
  justify-content:center;
  padding:22px;
}
.mmModalOverlay.show{ display:flex; }

.mmModal{
  width:min(1400px, 96vw);
  height:min(90vh, 900px);
  background:#fff;
  border-radius:20px;
  overflow:hidden;
  box-shadow:0 25px 70px rgba(0,0,0,.45);
  position:relative;
  display:flex;
  flex-direction:column;
}

.mmModal iframe{
  width:100%;
  height:100%;
  border:0;
}

.mmClose{
  position:absolute;
  top:14px;
  right:14px;
  z-index:100000;
  width:42px;
  height:42px;
  border-radius:999px;
  border:0;
  cursor:pointer;
  background:rgba(0,0,0,.7);
  color:#fff;
  font-size:22px;
  display:grid;
  place-items:center;
  transition:.15s ease;
}
.mmClose:hover{
  background:#ef4444;
  transform:scale(1.06);
}

    @media (max-width: 1100px){
      .topRow{ grid-template-columns: 1fr; }
      .grid, .bottom{ grid-template-columns: 1fr; }
      .sidebar{ width:260px; }
      .mmFrame{ height:380px; } /* un poquito m√°s alto en 1 columna */
    }
  </style>
</head>

<body>
  <div class="app">

    <aside class="sidebar">
      <div class="brand">
        <div class="logo">XS</div>
        <div>
          <div class="name">XAVIER</div>
          <div class="muted" style="font-size:12px;margin-top:2px;">Members</div>
        </div>
      </div>

      <nav class="nav" id="nav">
        <a class="active" data-key="tablero">Tablero</a>
        <a data-key="pax">Preg√∫ntale a Xavier</a>
        <a data-key="coaching">XS Coaching</a>
        <a data-key="calculadoras">Calculadoras</a>

        <div class="section-title">Conocimiento</div>
        <div class="subnav">
          <a data-key="riesgo">Manejo de riesgo</a>
          <a data-key="deuda">Peligro al endeudarse</a>
          <a data-key="gratificacion">Gratificaci√≥n inmediata</a>
        </div>
      </nav>
    </aside>

    <main class="main">

      <!-- TOP ROW -->
      <section class="topRow">
        <div class="card welcomeCard">
          <div class="welcomeTitle">Bienvenido, Frank üëã</div>
        </div>

        <div class="card etapasCard">
          <div class="etapasWrap" id="etapasWrap">
            <div class="pillTab active" data-etapa="1"><span class="dot"></span>Etapa 1</div>
            <div class="pillTab" data-etapa="2"><span class="dot"></span>Etapa 2</div>
            <div class="pillTab" data-etapa="3"><span class="dot"></span>Etapa 3</div>
            <div class="pillTab" data-etapa="4"><span class="dot"></span>Etapa 4</div>
            <div class="pillTab" data-etapa="5"><span class="dot"></span>Etapa 5</div>
          </div>
        </div>

        <div class="card coachCard">
          <div class="coachImg">
            <img src="https://images.unsplash.com/photo-1603415526960-f7e0328d69c2?auto=format&fit=crop&w=300&q=60" alt="Coach"/>
          </div>
          <div class="coachInfo">
            <div class="coachTitle">Uno a Uno</div>
            <button class="btn btn-outline">Reservar Sesi√≥n</button>
          </div>
        </div>
      </section>

      <!-- FILA 1 -->
      <section class="grid">
        <div class="card stage">
          <h2 class="title">¬øEn qu√© etapa financiera est√°s?</h2>
          <div class="divider"></div>

          <div class="stageRow">
            <div class="sos">SOS</div>

            <div class="stageInfo">
              <h3>Etapa 1: Supervivencia</h3>
              <p>Est√°s luchando para cubrir gastos b√°sicos</p>

              <div class="needs">
                <div class="needsTop">
                  <div class="left">‚ö†Ô∏è √Åreas que necesitas mejorar</div>
                  <div class="bar" title="50% completado"><i></i></div>
                  <div style="font-weight:1000;color:#92400e;font-size:12px;">50%</div>
                </div>
                <ul>
                  <li>No tienes ni un mes de reserva de emergencia</li>
                  <li>No est√°s ahorrando casi nada para tu futuro</li>
                  <li>Est√°s usando deuda para sobrevivir</li>
                  <li>Seguro de Vida (tienes dependientes)</li>
                </ul>
              </div>

              <div class="stageActions">
                <button class="btn btn-dark">Hacerlo de nuevo</button>
              </div>
            </div>

            <div class="progressBox">
              <div class="label">TU PROGRESO EN ESTA ETAPA</div>
              <div class="value">64%</div>
            </div>
          </div>
        </div>

        <div class="card cadaMenudo">
          <div class="cmTop">
            <div class="cmBrand">Cada<br/>menudo<small>i</small></div>
            <div class="cmBtn"><span class="plus">Ôºã</span>Nueva Transacci√≥n</div>
          </div>

          <div class="cmBanner">
            <span class="check">‚úì</span>
            SUPER: Tienes un sobrante de <strong>$2,759.51</strong>.
          </div>

          <div class="cmStats">
            <div class="cmStat">
              <div class="cmIcon">‚Üó</div>
              <div>
                <div class="cmK">Ingresos</div>
                <div class="cmV">$12,250.00</div>
              </div>
            </div>

            <div class="cmStat">
              <div class="cmIcon">üßæ</div>
              <div>
                <div class="cmK">Gastos</div>
                <div class="cmV">$8,490.49</div>
              </div>
            </div>

            <div class="cmStat">
              <div class="cmIcon">üí∞</div>
              <div>
                <div class="cmK">Ahorros</div>
                <div class="cmV">$1,000.00</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- FILA 2 (Money Map real + Video) -->
      <section class="bottom">

        <!-- ‚úÖ Money Map: ahora es el card real -->
        <div class="card moneymapEmbed">
          <!-- Si NO quieres header, borra este bloque -->
          <div class="mmHeader">
            <div>
              <div class="mmTitle">X Money Map</div>
              <div class="mmSub">Tu radiograf√≠a financiera en 5 m√©tricas.</div>
            </div>
          </div>

          <iframe
            class="mmFrame"
            src="https://xserbia.github.io/xs-member-site/money-map-card.html"
            title="Money Map Card"
            loading="lazy"
          ></iframe>
        </div>

        <div class="card videoWrap">
          <div class="videoHeader">Ultimo PAX</div>
          <div class="video" aria-label="Video placeholder">
            <div class="play">
              <button title="Play">‚ñ∂</button>
            </div>
          </div>
        </div>

      </section>

    </main>
  </div>

  <script>
    // Sidebar active
    const nav = document.getElementById('nav');
    nav.addEventListener('click', (e) => {
      const a = e.target.closest('a');
      if(!a) return;
      [...nav.querySelectorAll('a')].forEach(x => x.classList.remove('active'));
      a.classList.add('active');
    });

    // Etapas active
    const etapasWrap = document.getElementById('etapasWrap');
    etapasWrap.addEventListener('click', (e) => {
      const tab = e.target.closest('.pillTab');
      if(!tab) return;
      [...etapasWrap.querySelectorAll('.pillTab')].forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
    });
    <script>
  // Sidebar active
  const nav = document.getElementById('nav');
  nav.addEventListener('click', (e) => {
    const a = e.target.closest('a');
    if(!a) return;
    [...nav.querySelectorAll('a')].forEach(x => x.classList.remove('active'));
    a.classList.add('active');
  });

  // Etapas active
  const etapasWrap = document.getElementById('etapasWrap');
  etapasWrap.addEventListener('click', (e) => {
    const tab = e.target.closest('.pillTab');
    if(!tab) return;
    [...etapasWrap.querySelectorAll('.pillTab')].forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
  });

  // ===== MODAL GLOBAL MONEY MAP =====
  const mmOverlay = document.getElementById('mmModalOverlay');
  const mmClose = document.getElementById('mmClose');
  const mmFrame = document.getElementById('mmModalFrame');

  function openMoneyMapModal(){
    mmFrame.src = 'https://xserbia.github.io/xs-member-site/money-map.html';
    mmOverlay.classList.add('show');
    mmOverlay.setAttribute('aria-hidden', 'false');
    document.body.style.overflow = 'hidden';
  }

  function closeMoneyMapModal(){
    mmOverlay.classList.remove('show');
    mmOverlay.setAttribute('aria-hidden', 'true');
    document.body.style.overflow = '';
    mmFrame.src = 'about:blank';
  }

  // Escuchar evento desde el iframe del card embebido
  window.addEventListener('message', (event) => {
    if(event.data && event.data.type === 'OPEN_MONEY_MAP'){
      openMoneyMapModal();
    }
  });

  // cerrar con X
  mmClose.addEventListener('click', closeMoneyMapModal);

  // cerrar si clic fuera del modal
  mmOverlay.addEventListener('click', (e) => {
    if(e.target === mmOverlay) closeMoneyMapModal();
  });

  // cerrar con ESC
  window.addEventListener('keydown', (e) => {
    if(e.key === 'Escape' && mmOverlay.classList.contains('show')) closeMoneyMapModal();
  });
</script>

  </script>
  <!-- MODAL GLOBAL (fuera del card) -->
<div class="mmModalOverlay" id="mmModalOverlay" aria-hidden="true">
  <div class="mmModal" role="dialog" aria-modal="true" aria-label="Money Map">
    <button class="mmClose" id="mmClose" title="Cerrar">√ó</button>
    <iframe
      id="mmModalFrame"
      src="about:blank"
      title="Money Map"
      allow="fullscreen"
    ></iframe>
  </div>
</div>

</body>
</html>
